# 사용자 스토리: 계정 생성

## User 모델 정의
```python
class User(SQLModel, table=True):
    __tablename__ = "users"

    id: int = Field(default=None, primary_key=True)
    username: str = Field(unique=True, max_length=40, description="User Account ID")
    email: EmailStr = Field(max_length=128, description="User Email Address")
    display_name: str = Field(max_length=40, description="User Display Name")
    password: str = Field(max_length=128, description="User Password")
    is_host: bool = Field(default=False, description="Check Host")
```

---

## 사용자 스토리

### US-001: 기본 계정 생성
**사용자로서** 신규 가입자는
**원하는 것은** 사용자명, 이메일, 비밀번호로 계정을 생성하는 것
**목적은** 커피챗 스케줄링 시스템에 접근하기 위해

**인수 조건:**
- 사용자명은 4~40자, 영문자, 숫자, 마침표(.), 빼기 기호(-)만 허용
- 이메일은 유효한 이메일 주소 형식이어야 함 (최대 128자)
- 비밀번호는 8~128자
- 표시명은 2~40자
- 시스템은 성공적인 생성 시 사용자 정보(username, display_name, is_host)를 반환

---

### US-002: 표시명 자동 생성
**사용자로서** 신규 가입자는
**원하는 것은** 표시명 입력을 선택적으로 생략하는 것
**목적은** 원하는 경우 시스템이 자동으로 생성해주도록 하기 위해

**인수 조건:**
- 표시명을 입력하지 않으면 시스템이 무작위 8글자 문자열을 생성
- 자동 생성된 표시명이 응답에 포함됨

---

### US-003: 중복 사용자명 방지
**사용자로서** 신규 가입자는
**원하는 것은** 선택한 사용자명이 이미 사용 중인 경우 즉시 알림을 받는 것
**목적은** 혼란 없이 다른 사용자명을 선택하기 위해

**인수 조건:**
- 시스템은 계정 생성 전에 중복 사용자명을 확인
- 명확한 오류 메시지 반환: "사용자명이 이미 존재합니다"
- 사용자명 중복 시 계정이 생성되지 않음

---

### US-004: 이메일 고유성 적용
**사용자로서** 신규 가입자는
**원하는 것은** 고유한 이메일 주소로 등록하는 것
**목적은** 단일하고 식별 가능한 계정을 유지하기 위해

**인수 조건:**
- 이메일은 시스템 내에서 고유해야 함 (데이터베이스 제약)
- 이메일이 이미 존재하면 명확한 오류 메시지 반환

---

### US-005: 입력 유효성 검사 피드백
**사용자로서** 신규 가입자는
**원하는 것은** 잘못된 입력에 대해 구체적인 오류 메시지를 받는 것
**목적은** 정확히 무엇을 수정해야 하는지 알기 위해

**인수 조건:**
- 잘못된 사용자명 → "사용자명이 유효하지 않습니다" 오류 메시지
- 잘못된 표시명 → "표시명이 유효하지 않습니다" 오류 메시지
- 잘못된 비밀번호 → "비밀번호가 유효하지 않습니다" 오류 메시지
- 잘못된 이메일 → "이메일이 유효하지 않습니다" 오류 메시지
- 각 오류 메시지는 설명적이고 실행 가능해야 함

---

### US-006: 계정 확인
**사용자로서** 신규 가입자는
**원하는 것은** 계정이 성공적으로 생성되었는지 확인하는 것
**목적은** 시스템 사용을 진행할 수 있음을 확인하기 위해

**인수 조건:**
- 계정 생성 시 사용자 정보(username, display_name, is_host)를 반환
- user_detail API 엔드포인트를 통해 계정 확인 가능
- 비밀번호는 응답에 포함되지 않음
